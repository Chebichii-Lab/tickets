{% extends 'persons/base.html' %}

{% block title %}Event Details{% endblock %}

{% block content %}
<style>
    body {
    background: url('https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') no-repeat center center fixed;
    background-size: cover;
  }
    .event-detail-card {
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            padding: 20px;
            max-width: 800px;
            margin: 20px auto;
        }

        .event-detail-card img {
            width: 100%;
            height: auto;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .event-detail-card h1 {
            margin-top: 0;
            color: #333;
        }

        .event-detail-card p {
            color: #666;
            margin: 10px 0;
        }

        .event-detail-card .btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px 0;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            text-align: center;
        }

        .event-detail-card .btn:hover {
            background-color: #0056b3;
        }

        @media (max-width: 768px) {
            .event-detail-card {
                padding: 10px;
                max-width: 90%;
            }
        }

        @media (max-width: 480px) {
            .event-detail-card {
                padding: 10px;
                max-width: 100%;
            }
        }
</style>
<div class="event-detail-card">
  <h1>{{ event.name }}</h1>
  {% if event.image %}
      <img src="{{ event.image.url }}" alt="{{ event.name }}">
  {% else %}
      <p>No image available for this event.</p>
  {% endif %}
  <p>{{ event.description }}</p>
  <p>Date: {{ event.date }}</p>
  <p>VIP Price: ${{ event.price_vip }}</p>
  <p>VVIP Price: ${{ event.price_vvip }}</p>
  <p>Group Price: ${{ event.price_group }}</p>

  {% if sold_out_vip %}
      <p>VIP Tickets: Sold Out</p>
  {% else %}
      <p>VIP Tickets: {{ event.tickets_vip }} left</p>
      <a class="btn" href="{% url 'purchase_ticket' event.id 'vip' %}">Buy VIP Ticket</a>
  {% endif %}

  {% if sold_out_vvip %}
      <p>VVIP Tickets: Sold Out</p>
  {% else %}
      <p>VVIP Tickets: {{ event.tickets_vvip }} left</p>
      <a class="btn" href="{% url 'purchase_ticket' event.id 'vvip' %}">Buy VVIP Ticket</a>
  {% endif %}

  {% if sold_out_group %}
      <p>Group Tickets: Sold Out</p>
  {% else %}
      <p>Group Tickets: {{ event.tickets_group }} left</p>
      <a class="btn" href="{% url 'purchase_ticket' event.id 'group' %}">Buy Group Ticket</a>
  {% endif %}

  {% if success %}
      <p>{{ success }}</p>
  {% endif %}

  {% if error %}
      <p>{{ error }}</p>
  {% endif %}
</div>
{% endblock %}
